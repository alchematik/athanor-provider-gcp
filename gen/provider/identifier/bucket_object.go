// Code generated by athanor-go.
// DO NOT EDIT.

package identifier

import (
	"fmt"

	sdk "github.com/alchematik/athanor-go/sdk/provider/value"
)

type BucketObjectIdentifier struct {
	Bucket sdk.ResourceIdentifier
	Name   string
}

func (x BucketObjectIdentifier) ToValue() sdk.Identifier {
	return sdk.Identifier{
		ResourceType: "bucket_object",
		Value: map[string]any{
			"bucket": sdk.ToType[any](x.Bucket),
			"name":   sdk.ToType[any](x.Name),
		},
	}
}

func (x BucketObjectIdentifier) ResourceType() string {
	return "bucket_object"
}

func ParseBucketObjectIdentifier(v sdk.Identifier) (BucketObjectIdentifier, error) {

	m, err := sdk.Map[any](v.Value)
	if err != nil {
		return BucketObjectIdentifier{}, fmt.Errorf("error parsing bucket_object_identifier: %v", err)
	}

	bucket, err := ParseIdentifier(m["bucket"])
	if err != nil {
		return BucketObjectIdentifier{}, fmt.Errorf("error parsing bucket_object_identifier: %v", err)
	}
	name, err := sdk.String(m["name"])
	if err != nil {
		return BucketObjectIdentifier{}, fmt.Errorf("error parsing bucket_object_identifier: %v", err)
	}

	return BucketObjectIdentifier{
		Bucket: bucket,
		Name:   name,
	}, nil
}
