// Code generated by athanor-go.
// DO NOT EDIT.

package identifier

import (
	sdk "github.com/alchematik/athanor-go/sdk/provider/value"
)

type ServiceAccountIdentifier struct {
	Project   string
	AccountId string
}

func (x ServiceAccountIdentifier) ToValue() sdk.Identifier {
	return sdk.Identifier{
		ResourceType: "service_account",
		Value: map[string]any{
			"project":    sdk.ToType(x.Project),
			"account_id": sdk.ToType(x.AccountId),
		},
	}
}

func (x ServiceAccountIdentifier) ResourceType() string {
	return "service_account"
}

func ParseServiceAccountIdentifier(v sdk.Identifier) (ServiceAccountIdentifier, error) {

	m, err := sdk.Map(v.Value)
	if err != nil {
		return ServiceAccountIdentifier{}, nil
	}

	project, err := sdk.String(m["project"])
	if err != nil {
		return ServiceAccountIdentifier{}, nil
	}
	account_id, err := sdk.String(m["account_id"])
	if err != nil {
		return ServiceAccountIdentifier{}, nil
	}

	return ServiceAccountIdentifier{
		Project:   project,
		AccountId: account_id,
	}, nil
}
