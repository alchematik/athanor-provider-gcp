// Code generated by athanor-go.
// DO NOT EDIT.

package provider

import (
	"fmt"

	sdk "github.com/alchematik/athanor-go/sdk/provider/value"

	"github.com/alchematik/athanor-provider-gcp/gen/provider/bucket"
	"github.com/alchematik/athanor-provider-gcp/gen/provider/bucket_object"
)

func ParseIdentifier(v any) (sdk.ResourceIdentifier, error) {
	id, ok := v.(sdk.Identifier)
	if !ok {
		return nil, fmt.Errorf("expected Identifier type, got %T", v)
	}

	switch id.ResourceType {
	case "bucket":
		return bucket.ParseBucketIdentifier(id.Value)
	case "bucket_object":
		return bucket_object.ParseBucketObjectIdentifier(id.Value)

	default:
		return nil, fmt.Errorf("invalid resource type: %s", id.ResourceType)
	}
}
